:root{
  --bg:#0f1220;
  --panel:#151a2e;
  --ink:#e9ecf1;
  --muted:#9aa3b2;
  --accent:#e9506a;
  --line:#242a46;
}
*{box-sizing:border-box}
html,body{min-height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  display:flex;
  min-height:100vh;
}
.skip-link{
  position:absolute;
  left:-999px;
  top:10px;
  background:var(--accent);
  color:#fff;
  padding:10px 16px;
  border-radius:999px;
  text-decoration:none;
  font-weight:600;
  z-index:1200;
}
.skip-link:focus{
  left:12px;
  outline:2px solid #fff4;
  outline-offset:2px;
}
.sidebar-toggle{
  position:fixed;
  top:16px;
  left:16px;
  display:none;
  align-items:center;
  gap:8px;
  padding:10px 16px;
  border-radius:999px;
  border:1px solid var(--line);
  background:var(--panel);
  color:var(--ink);
  cursor:pointer;
  z-index:1101;
  font-weight:600;
}
.sidebar-toggle__icon{font-size:1.1rem;}
.sidebar-toggle__label{line-height:1;}
.sidebar-toggle:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:3px;
}
a{color:#ffd2da;text-decoration:none}
a:hover{text-decoration:underline}

/* Sidebar layout */
.sidebar{
  width:280px;
  min-width:260px;
  background:#0d1020;
  border-right:1px solid var(--line);
  display:flex;
  flex-direction:column;
  gap:8px;
  padding:14px 12px;
  position:sticky;
  top:0;
  height:100vh;
  overflow-y:auto;
}
.brand{
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px 10px;
  border-radius:10px;
}
.brand:hover{background:#0e1330;}
.logo{width:28px;height:28px;}
.nav-label{color:var(--muted);font-size:.75rem;margin:10px 10px 6px;}
.sidebar nav a{
  display:block;
  padding:8px 10px;
  border-radius:10px;
  margin:2px 0;
}
.sidebar nav a:hover,
.sidebar nav a.active{background:#12183a;}
.sidebar-actions{margin-top:auto;display:grid;gap:8px;}
.btn{
  appearance:none;
  border:1px solid var(--line);
  background:#0e1a38;
  color:var(--ink);
  padding:10px 12px;
  border-radius:10px;
  cursor:pointer;
}
.btn:hover{border-color:#36406b;}
.btn.primary{background:var(--accent);border-color:transparent;}

/* Main content */
#app{
  flex:1;
  max-width:1100px;
  margin:0 auto;
  padding:20px;
  display:block;
}
.page-head h1{margin:.2rem 0 .3rem;}
.page-head .muted{color:var(--muted);}
.card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:14px;
  padding:16px;
  margin-bottom:16px;
}
.card h2{margin:.2rem 0 .8rem;font-size:1.05rem;}
.card-subtitle{margin:0 0 6px;font-size:.9rem;color:var(--muted);font-weight:600;}
.prof-column{display:flex;flex-direction:column;gap:10px;}
.grid.compact,
.row.compact{gap:6px;}
.small-note{margin:4px 0 0;font-size:.85rem;}
.defenses-grid{align-items:end;}
.summary-grid>.grid,.equip-grid>.grid{gap:10px;}
.loadout-grid textarea{min-height:120px;}
.grid{display:grid;gap:10px;}
.g2{grid-template-columns:repeat(2,minmax(0,1fr));}
.g3{grid-template-columns:repeat(3,minmax(0,1fr));}
.g4{grid-template-columns:repeat(4,minmax(0,1fr));}
.row{display:flex;gap:10px;flex-wrap:wrap;}
input,select,textarea{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid var(--line);
  background:#0f1430;
  color:var(--ink);
}
textarea{min-height:90px;resize:vertical;}
.table{width:100%;border-collapse:collapse;}
.table th,.table td{
  border:1px solid var(--line);
  padding:8px;
  text-align:left;
}
.stats table{width:100%;border-collapse:collapse;}
.stats th,.stats td{border:1px solid var(--line);padding:8px;text-align:center;}
.muted{color:var(--muted);}
.hr{height:1px;background:var(--line);margin:10px 0;}
.pill{
  display:inline-block;
  padding:6px 10px;
  border:1px solid var(--line);
  border-radius:999px;
  color:var(--ink);
  font-size:.85rem;
  margin:6px 6px 0 0;
  background:#0e1432;
}
.quicklinks .pill{background:#0e1a38;}
.list{margin:0;padding-left:18px;}
.list.num{list-style:decimal;}
.auto-list{min-height:90px;background:#0f1430;border:1px dashed #2b335a;border-radius:10px;padding:10px;}
@media print{
  .sidebar, .sidebar-actions, .btn, .sidebar-toggle {display:none !important;}
  body{background:white;color:black;}
  .card{border:1px solid #999;}
}

@media (max-width:900px){
  body{flex-direction:column;}
  .sidebar-toggle{display:inline-flex;}
  .sidebar{
    position:fixed;
    top:0;
    left:0;
    bottom:0;
    transform:translateX(-105%);
    transition:transform .3s ease;
    width:min(80vw,320px);
    box-shadow:0 0 20px rgba(0,0,0,.35);
    z-index:1100;
    overflow-y:auto;
    height:auto;
  }
  body.sidebar-open .sidebar{transform:translateX(0);}
  body.sidebar-open{overflow:hidden;}
  body.sidebar-open::after{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(4,7,18,.65);
    z-index:1090;
  }
  #app{
    width:100%;
    max-width:none;
    margin:0;
    padding:88px 16px 48px;
  }
  .sidebar-actions{padding-bottom:24px;}
}
